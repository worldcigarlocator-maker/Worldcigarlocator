<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Autocomplete Test</title>
</head>
<body>
  <h2>Google Places Autocomplete – Minimal Test</h2>
  <input id="autocomplete" type="text" placeholder="Type an address..." style="width:300px; padding:8px;"/>

  <pre id="log" style="margin-top:20px; background:#f4f4f4; padding:10px;"></pre>

  <!-- ✅ Enda scriptet du behöver -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdn7E6_dfwUjGQ1IUdJ2rQXUeEYIIzVtQ&libraries=places"></script>
  <script>
    function log(msg) {
      const pre = document.getElementById("log");
      pre.textContent += msg + "\n";
      console.log(msg);
    }

    function initAutocomplete() {
      log("Init started...");
      const input = document.getElementById("autocomplete");
      const autocomplete = new google.maps.places.Autocomplete(input, {
        fields: ["name", "formatted_address", "geometry"],
      });

      autocomplete.addListener("place_changed", () => {
        const place = autocomplete.getPlace();
        log("Selected place:");
        log(JSON.stringify(place, null, 2));

        alert(
          "Name: " + (place.name || "") +
          "\nAddress: " + (place.formatted_address || "") +
          (place.geometry ? "\nLat: " + place.geometry.location.lat() + 
          "\nLng: " + place.geometry.location.lng() : "")
        );
      });
    }

    window.onload = initAutocomplete;
  </script>
</body>
</html>
